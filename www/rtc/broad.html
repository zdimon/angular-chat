<!DOCTYPE html>
<html lang="en" dir="ltr">
<!-- (c) студия Wezom | www.wezom.com.ua -->

<head>
   
<script src="angular.min.js"></script>
<script src="simple-webrtc.js"></script>
<script src="ng-simple-webrtc.js"></script>    


</head>

<body ng-app="AngularChatApp" id="ng-app">

<div ng-controller="BroadcastAppController">
  <broadcaster
    has-stream="hasStream"
    room-name="roomName"
    muted="false"
    is-broadcasting="isBroadcasting"></broadcaster>
 
  <button ng-click="prepare()" ng-disabled="hasStream">Prepare to broadcast</button>
  <div ng-show="hasStream">
    <input type="text" ng-model="roomName" placeholder="Enter a new room name" />
    <button ng-click="start()" ng-disabled="!roomName || broadcasting">Start room</button>
  </div>
</div>


<script>

    angular.module('AngularChatApp', ['SimpleWebRTC'])
    .controller('BroadcastAppController', function ($scope) {
    $scope.hasStream = false;
    $scope.roomName = '';
    $scope.isBroadcasting = '';
    $scope.prepare = function prepare() {
      $scope.$broadcast('prepare');
    };
    $scope.start = function start() {
      $scope.$broadcast('start');
    };
  });
    

</script>

</body>
